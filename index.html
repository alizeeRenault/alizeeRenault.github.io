
<!doctype html>
<html>

<head>
	<meta charset="UTF-8">
	<title>Vaccinations France</title>
	<script src="https://www.chartjs.org/dist/2.9.4/Chart.min.js"></script>
	<script src="https://www.chartjs.org/samples/latest/utils.js"></script>
	<script src="https://code.jquery.com/jquery-3.5.1.min.js" integrity="sha256-9/aliU8dGd2tb6OSsuzixeV4y/faTqgFtohetphbbj0=" crossorigin="anonymous"></script>
	<script src="./load_graphic.js"></script>

	<style>
		canvas{
			-moz-user-select: none;
			-webkit-user-select: none;
			-ms-user-select: none;
		}
		.loader {
			position: relative;
			min-height: 300px;
			margin: 30px auto;
			border-width: 0 2px;
			overflow: hidden;
		}

		.loader {
			min-height: 100px;
			animation: loaderLightning 2s linear infinite;

		}

		.loader:before,
		.loader:after {
			content: '';
			position: absolute;
			z-index: 2;
			top: 50%;
			left: 50%;
			border: 0 solid transparent;
		}

		.loader::before {
			border-top-width: 10px;
			border-right: 100px solid rgb(23, 191, 99);
			transform: translate3d(30%, -85%, 0) skew(15deg);
		}

		.loader::after {
			border-bottom-width: 10px;
			border-left: 100px solid rgb(23, 191, 99);
			transform: translate3d(70%, -15%, 0) skew(15deg);
		}

		@keyframes loaderLightning {
			0% {
				transform: translate3d(50%, 0, 0) scale(.15, .5);
			}
			33% {
				transform: translate3d(0, 0, 0) scale(.5, 1);
				animation-timing-function: ease;
			}
			100% {
				transform: translate3d(-150%, 0, 0) scale(1.2, .5);
				animation-timing-function: ease;
			}
		}
		.data {
			margin: auto;
			margin-top: 50px;
			margin-bottom: 35px;
		}
		h1 {
			text-align: center;
		}
		nav {
			padding: 10px;
			background-color: rgb(25, 39, 52);
			height: 55px;
		}
		nav a {
			color: rgb(23, 191, 99);
			padding: 15px;
			margin: 0 10px;
			text-decoration: none;
			border: 2px solid rgb(23, 191, 99);
			height: 22px;
		}
		.twitter-alizee {
			position: absolute;
			right: 20px;
			margin-top: 16px;
		}
	</style>
</head>
  
 <body style="background-color: rgb(21, 32, 43);color: rgb(23, 191, 99);margin: 0px;">
 	<nav style="display:flex;">
		<a href="#belgique" class="button_bel" style="display: none;" onclick="get_belgium()">Données vaccinations Belgique</a>
		<a href="#france" class="button_france" style="display: none;" onclick="get_france()">Données vaccinations France</a>
		<a href="#israel" class="button_israel" style="display: none;" onclick="get_israel()">Données vaccinations Israël</a>
		<div class="twitter-alizee">
			<a href="https://twitter.com/AlizeeRenault?ref_src=twsrc%5Etfw" class="twitter-follow-button" data-show-count="false">Follow @AlizeeRenault</a>
			<script async src="https://platform.twitter.com/widgets.js" charset="utf-8"></script>
		</div>
 	</nav>


	<br><br><br><br>
	<div style="margin: auto;text-align: center;">
		<i style="" >All informations are fetched from OWI data.</i><br>
	</div>
 	<h1>VaccinVizualizer</h1>
	<div class="loader_vaccination loader">
		<div class="loader__lightning"></div>
	</div>
	<div class="vaccination data" style="width:85%;display: none;">
		<canvas id="canvas"></canvas>
	</div>

	<div class="vaccination_bel data" style="width:85%;display: none;">
		<canvas id="canvas_bel"></canvas>
	</div>
	<div class="vaccination_israel data" style="width:85%;display: none;">
		<canvas id="canvas_israel"></canvas>
	</div>
	<br>
	<br>
 	<h1>CasesVizualizer</h1>
	<div class="month data" style="width:85%;display: none;">
		<canvas id="canvas_month_FRA_cases"></canvas>
	</div>
 	<h1>DeathsVizualizer</h1>
	<div class="monthd data" style="width:85%;display: none;">
		<canvas id="canvas_month_FRA_deaths"></canvas>
	</div>
 	<h1>CompleteVizualizer</h1>
	<div class="year data" style="width:85%;display: none;">
		<canvas id="canvas_month_complete_cases"></canvas>
	</div>
	<div class="yeard data" style="width:85%;display: none;">
		<canvas id="canvas_month_complete_deaths"></canvas>
	</div>
	  <hr>
		<br><br><br><br>
	  </br>
	  <div>
	   <i>
	   Vaccination source from :<a href="https://www.data.gouv.fr/fr/datasets/donnees-relatives-aux-personnes-vaccinees-contre-la-covid-19/"> https://www.data.gouv.fr/fr/datasets/donnees-relatives-aux-personnes-vaccinees-contre-la-covid-19 </a><br>
	   Vaccination data source from 1 to 5 january 2021 : <a href="https://covidtracker.fr/vaccintracker/"> vaccintracker </a><br>
	   Other data based on this work : Hasell, J., Mathieu, E., Beltekian, D. et al. A cross-country database of COVID-19 testing. Sci Data 7, 345 (2020). <a href="https://doi.org/10.1038/s41597-020-00688-8">https://doi.org/10.1038/s41597-020-00688-8</a>
		</i>

	</div>


</body>

	<script>


		var data_gl = {};

		function get_belgium () {
			load_vaccine_BEL(data_gl.BEL);
			load_month_view(data_gl.BEL);
			load_year_view(data_gl.BEL);

			$(".vaccination_bel").show();
			$(".vaccination_israel").hide();
			$(".vaccination").hide();
			$(".button_bel").hide();
			$(".button_france").show();
			$(".button_israel").show();
			$(".month").show();
			$(".monthd").show();
			$(".year").show();
			$(".yeard").show();
		}
		function get_israel () {
			load_vaccine_ISR(data_gl.ISR);
			load_month_view(data_gl.ISR);
			load_year_view(data_gl.ISR);

			$(".vaccination_bel").hide();
			$(".vaccination_israel").show();
			$(".vaccination").hide();
			$(".button_bel").show();
			$(".button_france").show();
			$(".button_israel").hide();
			$(".month").show();
			$(".monthd").show();
			$(".year").show();
			$(".yeard").show();
		}
		function get_france () {
			load_vaccine(data_gl.FRA);
			load_month_view(data_gl.FRA);
			load_year_view(data_gl.FRA);

			$(".vaccination_bel").hide();
			$(".vaccination_israel").hide();
			$(".vaccination").show();
			$(".button_bel").show();
			$(".button_france").hide();
			$(".button_israel").show();
			$(".month").show();
			$(".monthd").show();
			$(".year").show();
			$(".yeard").show();
		}

		window.onload = function() {
			$.get( "https://covid.ourworldindata.org/data/owid-covid-data.json", function( data ) {
				$(".loader_vaccination").hide();
				$(".vaccination").show();
				load_vaccine(data.FRA);

				load_month_view(data.FRA);
				load_year_view(data.FRA);

				data_gl = data;
				$(".month").show();
				$(".monthd").show();
				$(".year").show();
				$(".yeard").show();
				$(".button_bel").show();
				$(".button_israel").show();
			}).fail(function() {
				console.log( "error" );
			});
			
			// var ctx1 = document.getElementById('canvas_deaths').getContext('2d');
			// window.myLine = new Chart(ctx1, config_deaths);
			// var ctx2 = document.getElementById('canvas_cases').getContext('2d');
			// window.myLine = new Chart(ctx2, config_cases);
		};
	</script>
</html>
